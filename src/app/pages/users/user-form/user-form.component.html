<div class="container form-container">
  <form [formGroup]="userForm" (ngSubmit)="submit()">
    <h1>{{ selectedUser ? "Edit" : "Add" }} User</h1>
    <hr />
    <div class="mb-3">
      <label for="firstName" class="form-label">First Name</label>
      <input
        type="text"
        class="form-control"
        formControlName="firstName"
        id="firstName"
      />
      <ng-container
        *ngIf="
          userForm.get('firstName')?.touched &&
          userForm.get('firstName')?.invalid
        "
      >
        <span class="error">First name is required</span>
      </ng-container>
    </div>
    <div class="mb-3">
      <label for="lastName" class="form-label">Last Name</label>
      <input
        type="text"
        class="form-control"
        formControlName="lastName"
        id="lastName"
      />
      <ng-container
        *ngIf="
          userForm.get('lastName')?.touched && userForm.get('lastName')?.invalid
        "
      >
        <span class="error">Last name is required</span>
      </ng-container>
    </div>
    <div class="mb-3">
      <label for="email" class="form-label">Email</label>
      <input
        type="text"
        class="form-control"
        formControlName="email"
        id="email"
      />
      <ng-container
        *ngIf="userForm.get('email')?.touched && userForm.get('email')?.invalid"
      >
        <span class="error" *ngIf="userForm.get('email')?.hasError('required')"
          >Email is required</span
        >
        <span class="error" *ngIf="userForm.get('email')?.hasError('email')"
          >Please enter a valid email</span
        >
      </ng-container>
    </div>
    <div class="mb-3">
      <label for="address" class="form-label">Address</label>
      <input
        type="text"
        class="form-control"
        formControlName="address"
        id="address"
      />
      <ng-container
        *ngIf="
          userForm.get('address')?.touched && userForm.get('address')?.invalid
        "
      >
        <span class="error">Address is required</span>
      </ng-container>
    </div>
    <button
      type="button"
      class="btn btn-primary"
      [disabled]="userForm.invalid"
      (click)="submit()"
    >
      {{ selectedUser ? "Update" : "Add" }}
    </button>
    <p class="text-center" [ngClass]="error ? 'error' : 'success'">{{
      error || success
    }}</p>
  </form>
  
</div>
